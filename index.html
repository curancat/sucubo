<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåô Vale S√∫cubo üåô</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d010c; /* Cor de fundo mais escura, roxo quase preto */
      color: #f7e0fc; /* Cor do texto mais clara e suave, tom de rosa claro */
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh; /* Garante que o corpo ocupe a altura total da tela */
      line-height: 1.6; /* Espa√ßamento entre linhas para melhor leitura */
    }
    h1 {
      margin-top: 30px;
      color: #ff66cc; /* Rosa vibrante */
      text-shadow: 0 0 15px #ff66cc, 0 0 25px rgba(255, 102, 204, 0.5); /* Sombra neon */
      font-size: 3.5em; /* Tamanho maior para o t√≠tulo */
      letter-spacing: 3px; /* Espa√ßamento entre letras */
      margin-bottom: 20px;
    }
    h2 {
        color: #ff99e6; /* Um rosa um pouco mais suave */
        margin-bottom: 20px;
    }
    p {
      font-size: 1.4em; /* Fonte maior para as descri√ß√µes */
      max-width: 800px; /* Largura m√°xima para o texto */
      margin: 20px auto;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
    }
    button {
      background-color: #660033; /* Roxo escuro */
      color: #ffe6f2; /* Cor do texto do bot√£o mais vibrante */
      border: 2px solid #ff66cc; /* Borda colorida para destaque */
      padding: 15px 30px; /* Padding maior para bot√µes */
      font-size: 1.4em; /* Fonte maior para bot√µes */
      border-radius: 15px; /* Bordas mais arredondadas */
      margin: 15px;
      cursor: pointer;
      transition: all 0.3s ease; /* Transi√ß√£o suave para hover */
      box-shadow: 0 0 12px rgba(255, 102, 204, 0.4); /* Sombra para bot√µes */
      outline: none; /* Remove outline ao clicar */
    }
    button:hover {
      background-color: #ff3399; /* Cor de hover mais clara e intensa */
      transform: translateY(-5px); /* Efeito de leve "pulo" ao passar o mouse */
      box-shadow: 0 0 20px rgba(255, 102, 204, 0.8);
    }
    video {
      width: 90%;
      max-width: 900px; /* V√≠deos um pouco maiores */
      margin: 20px auto;
      display: none;
      box-shadow: 0 0 30px rgba(255, 102, 204, 0.7); /* Sombra mais intensa no v√≠deo */
      border-radius: 12px;
      background-color: #000; /* Fundo preto para o v√≠deo */
      border: 1px solid #ff66cc; /* Borda sutil */
    }
    .game-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 1s ease-in-out; /* Transi√ß√£o suave para o container principal */
      padding: 20px; /* Padding geral para o container */
      box-sizing: border-box; /* Inclui padding na largura */
    }
    .hidden {
      opacity: 0;
      pointer-events: none; /* Desabilita intera√ß√µes quando invis√≠vel */
    }
    .choice-buttons button, #prologueChoices button {
      min-width: 250px; /* Garante que os bot√µes de escolha tenham largura m√≠nima */
    }
    .puzzle-input {
      background-color: #1a0314; /* Fundo do input mais escuro */
      color: #ffe6f2;
      border: 1px solid #ff66cc;
      padding: 12px;
      font-size: 1.2em;
      border-radius: 10px;
      margin-right: 15px;
      text-align: center;
      outline: none;
      box-shadow: 0 0 8px rgba(255, 102, 204, 0.3);
      transition: border-color 0.3s ease;
    }
    .puzzle-input:focus {
        border-color: #ff3399;
    }
    .final-message {
      font-size: 2.2em; /* Fonte maior para a mensagem final */
      color: #ff3399;
      text-shadow: 0 0 15px #ff3399, 0 0 25px rgba(255, 51, 153, 0.7); /* Sombra mais intensa */
      animation: pulse 2s infinite alternate; /* Anima√ß√£o de pulso */
      margin-top: 40px;
      font-weight: bold;
    }

    @keyframes pulse {
      from { transform: scale(1); opacity: 1; }
      to { transform: scale(1.08); opacity: 0.95; }
    }

    /* Estilos para responsividade */
    @media (max-width: 768px) {
        h1 {
            font-size: 2.5em;
        }
        p {
            font-size: 1.1em;
            max-width: 95%;
        }
        button {
            padding: 12px 25px;
            font-size: 1.2em;
            min-width: unset; /* Remove min-width em telas menores */
            width: 80%; /* Ocupa mais largura */
        }
        .puzzle-input {
            width: 70%;
            margin-right: 0;
            margin-bottom: 15px; /* Adiciona margem abaixo do input */
        }
        #puzzleSection button {
            margin-left: 0; /* Ajusta margem do bot√£o de puzzle */
        }
        video {
            width: 95%;
        }
    }
  </style>
</head>
<body>

  <div class="game-container" id="gameContainer">
    <h1>üåô Vale S√∫cubo üåô</h1>
    <p id="introductionText">
      Voc√™ ouviu os sussurros. N√£o eram apenas hist√≥rias, mas um chamado, ecoando dos recessos mais antigos de sua mente. Um lugar onde a luz das estrelas se dobra e a lua parece chorar segredos proibidos. O **Vale S√∫cubo**. Dizem que l√°, o desejo n√£o √© apenas um sentimento; √© uma for√ßa palp√°vel, que molda a realidade e as almas daqueles que ousam cruzar seu limiar.<br><br>
      No fundo, voc√™ sempre soube que havia algo mais. Uma sede por aquilo que √© oculto, proibido. E agora, essa sede o trouxe aqui, √† beira do v√©u. O ar √© pesado com uma fragr√¢ncia inebriante, e o solo vibra sob seus p√©s, como se o pr√≥prio Vale estivesse respirando, esperando sua decis√£o.
    </p>
    <div id="prologueChoices"> <button onclick="startJourney()">Adentrar o V√©u</button>
        <button onclick="endGame('Voc√™ recua da beira do Vale S√∫cubo, a curiosidade superada pelo instinto de autopreserva√ß√£o. O mundo exterior parece um pouco mais cinzento agora, e os sussurros do Vale, embora distantes, jamais o deixar√£o completamente em paz. Sua alma, por enquanto, est√° segura.')">Recuar</button>
    </div>

    <video id="videoPlayer" controls preload="auto">
      <source id="videoSource" src="" type="video/mp4">
      Seu navegador n√£o suporta a tag de v√≠deo.
    </video>

    <p id="videoDescription" style="display:none;"></p>

    <div class="puzzle" id="puzzleSection" style="display:none;">
      <p id="puzzleText"></p> <input type="text" id="answerInput" class="puzzle-input" placeholder="Sua resposta aqui..." />
      <button onclick="checkAnswer()">Confirmar</button>
    </div>

    <div class="choice-buttons" id="choiceSection" style="display:none;">
      </div>

    <p id="finalMessage" class="final-message" style="display:none;"></p>
  </div>

  <script>
    let currentVideoIndex = 0;
    const gameContainer = document.getElementById('gameContainer');
    // const startButton = document.getElementById('startButton'); // Removido, substitu√≠do por prologueChoices
    // const difficultySelection = document.getElementById('difficultySelection'); // Removido
    const videoPlayer = document.getElementById('videoPlayer');
    const videoSource = document.getElementById('videoSource');
    const videoDescription = document.getElementById('videoDescription');
    const puzzleSection = document.getElementById('puzzleSection');
    const puzzleText = document.getElementById('puzzleText');
    const answerInput = document.getElementById('answerInput');
    const choiceSection = document.getElementById('choiceSection');
    const finalMessage = document.getElementById('finalMessage');
    const introductionText = document.getElementById('introductionText');
    const prologueChoices = document.getElementById('prologueChoices'); // Novo elemento para os bot√µes do pr√≥logo

    // Mapeamento de v√≠deos e descri√ß√µes aprimoradas
    const scenes = [
      {
        video: "teste1.mp4",
        description: "Atravessando o v√©u do ordin√°rio, voc√™ se depara com uma floresta envolta em uma n√©voa rosada, doce e quase sufocante de jasmim e desespero. Cada passo na trilha macia √© acompanhado por um sussurro que parece conhecer seus segredos mais profundos, e a pr√≥pria terra pulsa sob seus p√©s, como um cora√ß√£o adormecido prestes a despertar. Voc√™ sente a atra√ß√£o do desconhecido... vai:",
        choices: [
          { text: "Avan√ßar Cautelosamente", nextIndex: 1 },
          { text: "Tentar Observar o Entorno", nextIndex: 1, textOverride: "Voc√™ tenta discernir formas na n√©voa, mas ela se adensa, guiando-o inexoravelmente para a frente. O Vale n√£o permite hesita√ß√£o prolongada." }
        ]
      },
      {
        video: "teste2.mp4",
        description: "Voc√™ caminha entre √°rvores retorcidas que sussurram seu nome, uma melodia hipn√≥tica. √Ä frente, uma figura enigm√°tica surge, envolta em sombras e luz cintilante. Ela n√£o pronuncia uma palavra, mas seus olhos, po√ßos sem fundo de uma beleza perturbadora, transbordam com um misto de promessa proibida e uma dor ancestral. H√° algo neles que te chama, uma resson√¢ncia com os desejos que voc√™ manteve ocultos, at√© de si mesmo. O que voc√™ faz?",
        choices: [
          { text: "Se Aproximar da Figura", nextIndex: 2 },
          { text: "Manter Dist√¢ncia", nextIndex: 2, textOverride: "Uma for√ßa invis√≠vel parece pux√°-lo, suas pernas avan√ßando por si mesmas. N√£o h√° como resistir ao chamado. Voc√™ se aproxima, contra sua vontade inicial." }
        ]
      },
      {
        video: "teste3.mp4",
        description: "A figura come√ßa a dan√ßar em meio √†s sombras, um bal√© hipn√≥tico que desafia sua sanidade. Cada movimento parece arrancar de voc√™ mem√≥rias escondidas ‚Äî lembran√ßas que voc√™ jurava ter enterrado para sempre. Ela se aproxima ainda mais, e por um instante, voc√™ sente como se estivesse olhando para o reflexo da sua alma, para seus pr√≥prios anseios mais profundos. O ar se torna denso com uma tens√£o quase palp√°vel. Voc√™ vai:",
        choices: [
          { text: "Ceder √† Hipnose", nextIndex: 3 },
          { text: "Tentar Focar na Realidade", nextIndex: 3, textOverride: "Ainda que tente resistir, a dan√ßa da s√∫cubo te puxa para mais perto da ilus√£o. As mem√≥rias voltam com for√ßa total, em um turbilh√£o de emo√ß√µes." }
        ]
      },
      {
        video: "teste4.mp4",
        description: "As ilus√µes come√ßam a ruir, revelando mais do Vale. Voc√™ percebe que n√£o est√° sozinho. Outras presen√ßas se arrastam nas sombras, almas perdidas, ou talvez c√∫mplices da s√∫cubo? O tempo se dobra, e a figura agora fala, n√£o com palavras, mas com enigmas que ecoam em sua mente, testando sua vontade. 'A tenta√ß√£o √© a chave, mas qual porta ela abre?', sussurra uma voz sem corpo. Para prosseguir, desvende o enigma. Qual a palavra para a ess√™ncia que busca, a tentadora que se revela no Vale?",
        isPuzzle: true,
        puzzleAnswer: "s√∫cubo",
        nextIndex: 4,
        wrongAnswerText: "A s√∫cubo sorri, um arrepio percorre sua espinha. 'Ainda n√£o, mortal. Voc√™ deve desejar mais para me nomear.' Voc√™ sente sua for√ßa de vontade ser drenada lentamente.",
        correctAnswerText: "A palavra 's√∫cubo' ressoa no ar, as sombras se dissipam por um instante, revelando um vislumbre da verdadeira forma da figura. Voc√™ avan√ßou, sentindo-se mais pr√≥ximo do cerne do Vale."
      },
      {
        video: "teste5.mp4",
        description: "Um aviso ecoa no ar, n√£o de uma voz, mas de uma sensa√ß√£o avassaladora: 'O pr√≥ximo passo √© irrevers√≠vel. O que voc√™ busca est√° al√©m da raz√£o.' A atmosfera pesa, e a s√∫cubo come√ßa a se revelar em sua forma mais completa ‚Äì n√£o mais uma ilus√£o sutil, mas a ess√™ncia pura do desejo e da tenta√ß√£o. Ela n√£o quer apenas sua aten√ß√£o. Ela quer o que h√° de mais √≠ntimo em voc√™: seu desejo, sua verdade, e sua entrega total. A encruzilhada est√° diante de voc√™. Voc√™ sente uma for√ßa ineg√°vel te puxando. Voc√™ vai:",
        choices: [
          { text: "Aceitar o Chamado do Desejo", nextIndex: 5, ending: "surrender_early" }, // Novo ending para ramifica√ß√£o
          { text: "Tentar Desafiar a S√∫cubo", nextIndex: 5 } // Leva ao chefe final mas com uma inten√ß√£o diferente
        ]
      },
      {
        video: "umbreonhetero.mp4",
        description: "üî• **CONFRONTO FINAL** üî• ‚Äî A batalha n√£o √© de armas, mas de vontades e das profundezas da sua alma. Voc√™ est√° frente a frente com o ser que alimenta as fantasias mais secretas do Vale, a pr√≥pria manifesta√ß√£o do desejo. Ela te provoca, desafia cada fibra da sua exist√™ncia, testa seus limites. Cada segundo √© um convite irresist√≠vel, uma pergunta final que ecoa em seu ser: voc√™ vai:",
        choices: [
          { text: "Se Render ao Desejo Profundo", ending: "surrender_final" },
          { text: "Lutar Pela Sua Alma", ending: "resist_final" }
        ]
      }
    ];

    function hideAllSections() {
      introductionText.style.display = 'none';
      prologueChoices.style.display = 'none'; // Esconde os bot√µes do pr√≥logo
      videoPlayer.style.display = 'none';
      videoDescription.style.display = 'none';
      puzzleSection.style.display = 'none';
      choiceSection.style.display = 'none';
      finalMessage.style.display = 'none';
    }

    // Fun√ß√£o que inicia o jogo com o pr√≥logo
    function startGame() {
      hideAllSections();
      introductionText.style.display = 'block';
      prologueChoices.style.display = 'block'; // Exibe os bot√µes de escolha do pr√≥logo
    }

    // Fun√ß√£o que come√ßa a jornada de fato (chamada ap√≥s o pr√≥logo)
    function startJourney() {
      hideAllSections();
      currentVideoIndex = 0; // Garante que come√ßa do primeiro v√≠deo
      playScene(currentVideoIndex);
    }

    function playScene(index) {
      if (index >= scenes.length) {
        // Fallback para caso n√£o haja mais cenas ou algum erro de l√≥gica
        endGame("Voc√™ concluiu a jornada no Vale S√∫cubo de uma forma inesperada. O v√©u se fecha atr√°s de voc√™, mas a mem√≥ria do desejo nunca o abandonar√°.");
        return;
      }

      currentVideoIndex = index;
      const scene = scenes[currentVideoIndex];

      hideAllSections(); // Esconde tudo antes de mostrar a nova cena

      // Atualiza e exibe a descri√ß√£o antes do v√≠deo come√ßar a tocar
      videoDescription.innerHTML = scene.description; // Use innerHTML para formatar (negrito, etc.)
      videoDescription.style.display = 'block';

      videoSource.src = scene.video;
      videoPlayer.load(); // Recarrega o v√≠deo
      videoPlayer.style.display = 'block';
      videoPlayer.play();

      videoPlayer.onended = () => {
        // Ap√≥s o v√≠deo terminar, decide o pr√≥ximo passo
        if (scene.isPuzzle) {
          puzzleSection.style.display = 'block';
          puzzleText.innerHTML = scene.description; // Usa a descri√ß√£o como texto do puzzle
          answerInput.value = '';
          answerInput.focus();
        } else if (scene.choices) {
          displayChoices(scene.choices);
        } else {
          // Se n√£o h√° puzzle nem escolhas, avan√ßa automaticamente
          currentVideoIndex++;
          playScene(currentVideoIndex);
        }
      };
    }

    function checkAnswer() {
      const scene = scenes[currentVideoIndex];
      const input = answerInput.value.trim().toLowerCase();

      if (input === scene.puzzleAnswer) {
        alert(scene.correctAnswerText || "Resposta correta! Voc√™ avan√ßa mais fundo no Vale.");
        currentVideoIndex++;
        playScene(currentVideoIndex);
      } else {
        alert(scene.wrongAnswerText || "Resposta incorreta. A s√∫cubo sorri... e espera mais.");
        // Opcional: Reiniciar o v√≠deo ou alguma penalidade visual/sonora leve
      }
    }

    function displayChoices(choices) {
      choiceSection.innerHTML = ''; // Limpa bot√µes anteriores
      choiceSection.style.display = 'block';

      choices.forEach(choice => {
        const button = document.createElement('button');
        button.innerHTML = choice.text; // Use innerHTML para permitir negrito no texto do bot√£o
        button.onclick = () => handleChoice(choice);
        choiceSection.appendChild(button);
      });
    }

    function handleChoice(choice) {
      hideAllSections();
      if (choice.ending) {
        // Trata finais espec√≠ficos com mensagens diferentes
        if (choice.ending === "surrender_final") {
          endGame("Voc√™ se rende ao desejo avassalador da s√∫cubo. Seu ser se funde com a ess√™ncia do Vale, e voc√™ se torna parte de sua beleza e sua maldi√ß√£o. N√£o h√° mais retorno. Voc√™ √© um com o desejo, uma sombra sublime.");
        } else if (choice.ending === "resist_final") {
          endGame("Com uma for√ßa que voc√™ n√£o sabia que possu√≠a, voc√™ luta contra a s√∫cubo, resistindo √† sua influ√™ncia at√© o √∫ltimo suspiro de sua vontade. Ela se retira, n√£o derrotada, mas talvez intrigada. Voc√™ escapa do Vale, mas a experi√™ncia o transformou para sempre. O desejo, agora, tem um novo significado, uma cicatriz em sua alma.");
        } else if (choice.ending === "surrender_early") {
            endGame("Voc√™ aceita o chamado do desejo, permitindo que a s√∫cubo o envolva por completo. O Vale o consome mais cedo do que esperava, e voc√™ se torna um eco de paix√µes esquecidas. Seu destino est√° selado, sua alma, uma oferenda √† tenta√ß√£o.");
        }

      } else if (choice.nextIndex !== undefined) {
        // Se houver texto de override, exibe antes de avan√ßar para a pr√≥xima cena
        if (choice.textOverride) {
            videoDescription.innerHTML = choice.textOverride; // Usa innerHTML para permitir formata√ß√£o
            videoDescription.style.display = 'block';
            setTimeout(() => { // D√° um tempo para o usu√°rio ler o override antes de avan√ßar
                playScene(choice.nextIndex);
            }, 3000); // Exibe por 3 segundos antes de mudar
        } else {
            playScene(choice.nextIndex);
        }
      }
    }

    function endGame(message) {
      hideAllSections();
      finalMessage.innerHTML = message; // Usa innerHTML para permitir formata√ß√£o no final
      finalMessage.style.display = 'block';

      // Adiciona um bot√£o de "Jogar Novamente" ao final
      const restartButton = document.createElement('button');
      restartButton.innerText = "Jogar Novamente";
      restartButton.onclick = () => location.reload(); // Recarrega a p√°gina para reiniciar
      finalMessage.appendChild(document.createElement('br')); // Adiciona uma quebra de linha antes do bot√£o
      finalMessage.appendChild(restartButton);
    }

    // Inicializa o jogo ao carregar a p√°gina, mostrando o pr√≥logo e as op√ß√µes iniciais
    document.addEventListener('DOMContentLoaded', () => {
      hideAllSections();
      startGame(); // Chama startGame para exibir o pr√≥logo e suas op√ß√µes
    });
  </script>

</body>
</html>
