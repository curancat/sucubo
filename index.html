<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåô Vale S√∫cubo üåô</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d010c; /* Cor de fundo mais escura */
      color: #f7e0fc; /* Cor do texto mais clara e suave */
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh; /* Garante que o corpo ocupe a altura total da tela */
      overflow: hidden; /* Evita barras de rolagem indesejadas */
    }
    h1 {
      margin-top: 30px;
      color: #ff66cc;
      text-shadow: 0 0 15px #ff66cc, 0 0 25px rgba(255, 102, 204, 0.5); /* Sombra mais intensa */
      font-size: 3em;
      letter-spacing: 2px;
    }
    p {
      font-size: 1.3em;
      line-height: 1.6;
      max-width: 700px;
      margin: 20px auto;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
    }
    button {
      background-color: #660033;
      color: #ffe6f2; /* Cor do texto do bot√£o mais vibrante */
      border: 2px solid #ff66cc; /* Borda colorida */
      padding: 12px 25px;
      font-size: 1.3em;
      border-radius: 15px; /* Bordas mais arredondadas */
      margin: 15px;
      cursor: pointer;
      transition: all 0.3s ease; /* Transi√ß√£o suave para hover */
      box-shadow: 0 0 10px rgba(255, 102, 204, 0.4);
    }
    button:hover {
      background-color: #ff3399; /* Cor de hover mais clara */
      transform: translateY(-3px); /* Efeito de leve "pulo" */
      box-shadow: 0 0 15px rgba(255, 102, 204, 0.7);
    }
    video {
      width: 90%;
      max-width: 800px;
      margin: 20px auto;
      display: none;
      box-shadow: 0 0 25px rgba(255, 102, 204, 0.6); /* Sombra no v√≠deo */
      border-radius: 10px;
      background-color: #000; /* Fundo preto para o v√≠deo */
    }
    .game-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 1s ease-in-out; /* Transi√ß√£o para o container principal */
    }
    .hidden {
      opacity: 0;
      pointer-events: none; /* Desabilita intera√ß√µes quando invis√≠vel */
    }
    .choice-buttons button {
      min-width: 200px; /* Garante que os bot√µes de escolha tenham largura m√≠nima */
    }
    .puzzle-input {
      background-color: #1a0314; /* Fundo do input mais escuro */
      color: #ffe6f2;
      border: 1px solid #ff66cc;
      padding: 10px;
      font-size: 1.1em;
      border-radius: 8px;
      margin-right: 10px;
      text-align: center;
    }
    .final-message {
      font-size: 1.8em;
      color: #ff3399;
      text-shadow: 0 0 10px #ff3399;
      animation: pulse 1.5s infinite alternate; /* Anima√ß√£o de pulso */
    }

    @keyframes pulse {
      from { transform: scale(1); opacity: 1; }
      to { transform: scale(1.05); opacity: 0.9; }
    }
  </style>
</head>
<body>

  <div class="game-container" id="gameContainer">
    <h1>üåô Vale S√∫cubo üåô</h1>
    <p id="introductionText">Rumores sussurram sobre um lugar al√©m dos mapas, onde os v√©us entre os mundos s√£o finos e a pr√≥pria ess√™ncia do desejo ganha forma. Dizem que poucos que ousam adentrar o Vale S√∫cubo retornam inalterados, pois ali, a realidade se dobra aos caprichos de uma for√ßa primordial, e a linha entre a fantasia mais √≠ntima e o perigo mortal se desfaz. Voc√™ sente um chamado, uma curiosidade proibida... est√° pronto para perder-se na promessa do Vale?</p>
    <button id="startButton" onclick="startGame()">Entrar no Vale</button>

    <div id="difficultySelection" style="display:none;">
      <h2>Escolha sua dificuldade</h2>
      <button onclick="startJourney()">Iniciar Jornada</button>
      </div>

    <video id="videoPlayer" controls preload="auto">
      <source id="videoSource" src="" type="video/mp4">
      Seu navegador n√£o suporta a tag de v√≠deo.
    </video>

    <p id="videoDescription" style="display:none;"></p>

    <div class="puzzle" id="puzzleSection" style="display:none;">
      <p id="puzzleText">O sussurro da s√∫cubo ecoa, exigindo um reconhecimento. Digite a palavra que a invoca:</p>
      <input type="text" id="answerInput" class="puzzle-input" placeholder="Sua resposta aqui..." />
      <button onclick="checkAnswer()">Confirmar</button>
    </div>

    <div class="choice-buttons" id="choiceSection" style="display:none;">
      </div>

    <p id="finalMessage" class="final-message" style="display:none;"></p>
  </div>

  <script>
    let currentVideoIndex = 0;
    const gameContainer = document.getElementById('gameContainer');
    const startButton = document.getElementById('startButton');
    const difficultySelection = document.getElementById('difficultySelection');
    const videoPlayer = document.getElementById('videoPlayer');
    const videoSource = document.getElementById('videoSource');
    const videoDescription = document.getElementById('videoDescription');
    const puzzleSection = document.getElementById('puzzleSection');
    const puzzleText = document.getElementById('puzzleText');
    const answerInput = document.getElementById('answerInput');
    const choiceSection = document.getElementById('choiceSection');
    const finalMessage = document.getElementById('finalMessage');
    const introductionText = document.getElementById('introductionText');

    // Mapeamento de v√≠deos e descri√ß√µes aprimoradas
    const scenes = [
      {
        video: "teste1.mp4",
        description: "Atravessando o v√©u do ordin√°rio, voc√™ se depara com uma floresta envolta em uma n√©voa rosada, doce e quase sufocante de jasmim e desespero. Cada passo na trilha macia √© acompanhado por um sussurro que parece conhecer seus segredos mais profundos, e a pr√≥pria terra pulsa sob seus p√©s, como um cora√ß√£o adormecido prestes a despertar. Voc√™ sente a atra√ß√£o do desconhecido... vai [Avan√ßar Cautelosamente] ou [Tentar Observar o Entorno]?",
        choices: [
          { text: "Avan√ßar Cautelosamente", nextIndex: 1 },
          { text: "Tentar Observar o Entorno", nextIndex: 1, textOverride: "Voc√™ tenta discernir formas na n√©voa, mas ela se adensa, guiando-o inexoravelmente para a frente." }
        ]
      },
      {
        video: "teste2.mp4",
        description: "Voc√™ caminha entre √°rvores retorcidas que sussurram seu nome, uma melodia hipn√≥tica. √Ä frente, uma figura enigm√°tica surge, envolta em sombras e luz cintilante. Ela n√£o pronuncia uma palavra, mas seus olhos, po√ßos sem fundo de uma beleza perturbadora, transbordam com um misto de promessa proibida e uma dor ancestral. H√° algo neles que te chama, uma resson√¢ncia com os desejos que voc√™ manteve ocultos, at√© de si mesmo. Voc√™ vai [Se Aproximar da Figura] ou [Manter Dist√¢ncia]?",
        choices: [
          { text: "Se Aproximar da Figura", nextIndex: 2 },
          { text: "Manter Dist√¢ncia", nextIndex: 2, textOverride: "Uma for√ßa invis√≠vel parece pux√°-lo. N√£o h√° como resistir ao chamado. Voc√™ se aproxima." }
        ]
      },
      {
        video: "teste3.mp4",
        description: "A figura come√ßa a dan√ßar em meio √†s sombras, um bal√© hipn√≥tico que desafia sua sanidade. Cada movimento parece arrancar de voc√™ mem√≥rias escondidas ‚Äî lembran√ßas que voc√™ jurava ter enterrado para sempre. Ela se aproxima ainda mais, e por um instante, voc√™ sente como se estivesse olhando para o reflexo da sua alma, para seus pr√≥prios anseios mais profundos. O ar se torna denso com uma tens√£o quase palp√°vel. Voc√™ vai [Ceder √† Hipnose] ou [Tentar Focar na Realidade]?",
        choices: [
          { text: "Ceder √† Hipnose", nextIndex: 3 },
          { text: "Tentar Focar na Realidade", nextIndex: 3, textOverride: "Ainda que tente resistir, a dan√ßa da s√∫cubo te puxa para mais perto da ilus√£o, as mem√≥rias voltando com for√ßa total." }
        ]
      },
      {
        video: "teste4.mp4",
        description: "As ilus√µes come√ßam a ruir, revelando mais do Vale. Voc√™ percebe que n√£o est√° sozinho. Outras presen√ßas se arrastam nas sombras, almas perdidas, ou talvez c√∫mplices da s√∫cubo? O tempo se dobra, e a figura agora fala, n√£o com palavras, mas com enigmas que ecoam em sua mente, testando sua vontade. 'A tenta√ß√£o √© a chave, mas qual porta ela abre?', sussurra uma voz sem corpo. Voc√™ precisa resistir ou ceder ao jogo. Seu cora√ß√£o acelera, n√£o por medo, mas por algo mais profundo e primal. Para prosseguir, desvende o enigma. Qual a palavra para a ess√™ncia que busca, a tentadora que se revela no Vale?",
        isPuzzle: true,
        puzzleAnswer: "s√∫cubo",
        nextIndex: 4,
        wrongAnswerText: "A s√∫cubo sorri, um arrepio percorre sua espinha. 'Ainda n√£o, mortal. Voc√™ deve desejar mais para me nomear.'",
        correctAnswerText: "A palavra 's√∫cubo' ressoa no ar, as sombras se dissipam por um instante, revelando um vislumbre da verdadeira forma da figura. Voc√™ avan√ßou."
      },
      {
        video: "teste5.mp4",
        description: "Um aviso ecoa no ar, n√£o de uma voz, mas de uma sensa√ß√£o avassaladora: 'O pr√≥ximo passo √© irrevers√≠vel. O que voc√™ busca est√° al√©m da raz√£o.' A atmosfera pesa, e a s√∫cubo come√ßa a se revelar em sua forma mais completa ‚Äì n√£o mais uma ilus√£o sutil, mas a ess√™ncia pura do desejo e da tenta√ß√£o. Ela n√£o quer apenas sua aten√ß√£o. Ela quer o que h√° de mais √≠ntimo em voc√™: seu desejo, sua verdade, e sua entrega total. A encruzilhada est√° diante de voc√™. Voc√™ sente uma for√ßa ineg√°vel te puxando. Voc√™ vai [Aceitar o Chamado do Desejo] ou [Tentar Desafiar a S√∫cubo]?",
        choices: [
          { text: "Aceitar o Chamado do Desejo", nextIndex: 5, ending: "surrender" },
          { text: "Tentar Desafiar a S√∫cubo", nextIndex: 5, ending: "resist" }
        ]
      },
      {
        video: "umbreonhetero.mp4",
        description: "üî• **CONFRONTO FINAL** üî• ‚Äî A batalha n√£o √© de armas, mas de vontades e das profundezas da sua alma. Voc√™ est√° frente a frente com o ser que alimenta as fantasias mais secretas do Vale, a pr√≥pria manifesta√ß√£o do desejo. Ela te provoca, desafia cada fibra da sua exist√™ncia, testa seus limites. Cada segundo √© um convite irresist√≠vel, uma pergunta final que ecoa em seu ser: voc√™ vai [Se Render ao Desejo Profundo] ou [Lutar Pela Sua Alma]?",
        choices: [
          { text: "Se Render ao Desejo Profundo", ending: "surrender_final" },
          { text: "Lutar Pela Sua Alma", ending: "resist_final" }
        ]
      }
    ];

    function hideAllSections() {
      startButton.style.display = 'none';
      difficultySelection.style.display = 'none';
      videoPlayer.style.display = 'none';
      videoDescription.style.display = 'none';
      puzzleSection.style.display = 'none';
      choiceSection.style.display = 'none';
      finalMessage.style.display = 'none';
      introductionText.style.display = 'none';
    }

    function startGame() {
      hideAllSections();
      introductionText.style.display = 'block';
      difficultySelection.style.display = 'block';
    }

    function startJourney() {
      hideAllSections();
      playScene(currentVideoIndex);
    }

    function playScene(index) {
      if (index >= scenes.length) {
        endGame("Voc√™ concluiu a jornada no Vale S√∫cubo. Sua alma ainda pertence a voc√™... por enquanto. Mas as marcas do desejo permanecer√£o.");
        return;
      }

      currentVideoIndex = index;
      const scene = scenes[currentVideoIndex];

      hideAllSections(); // Esconde tudo antes de mostrar a nova cena

      videoDescription.innerText = scene.description;
      videoDescription.style.display = 'block';

      videoSource.src = scene.video;
      videoPlayer.load(); // Recarrega o v√≠deo
      videoPlayer.style.display = 'block';
      videoPlayer.play();

      videoPlayer.onended = () => {
        if (scene.isPuzzle) {
          puzzleSection.style.display = 'block';
          puzzleText.innerText = scene.description; // Usa a descri√ß√£o como texto do puzzle
          answerInput.value = '';
          answerInput.focus();
        } else if (scene.choices) {
          displayChoices(scene.choices);
        } else {
          // Fallback para cenas sem puzzle ou escolhas expl√≠citas, avan√ßa automaticamente
          currentVideoIndex++;
          playScene(currentVideoIndex);
        }
      };
    }

    function checkAnswer() {
      const scene = scenes[currentVideoIndex];
      const input = answerInput.value.trim().toLowerCase();

      if (input === scene.puzzleAnswer) {
        alert(scene.correctAnswerText || "Resposta correta! Voc√™ avan√ßa mais fundo no Vale.");
        currentVideoIndex++;
        playScene(currentVideoIndex);
      } else {
        alert(scene.wrongAnswerText || "Resposta incorreta. A s√∫cubo sorri... e espera mais.");
        // Opcional: Reiniciar o v√≠deo ou uma puni√ß√£o leve
      }
    }

    function displayChoices(choices) {
      choiceSection.innerHTML = ''; // Limpa bot√µes anteriores
      choiceSection.style.display = 'block';

      choices.forEach(choice => {
        const button = document.createElement('button');
        button.innerText = choice.text;
        button.onclick = () => handleChoice(choice);
        choiceSection.appendChild(button);
      });
    }

    function handleChoice(choice) {
      hideAllSections();
      if (choice.ending) {
        // Trata finais espec√≠ficos
        if (choice.ending === "surrender_final") {
          endGame("Voc√™ se rende ao desejo avassalador da s√∫cubo. Seu ser se funde com a ess√™ncia do Vale, e voc√™ se torna parte da sua beleza e sua maldi√ß√£o. N√£o h√° mais retorno. Voc√™ √© um com o desejo.");
        } else if (choice.ending === "resist_final") {
          endGame("Com uma for√ßa que voc√™ n√£o sabia que possu√≠a, voc√™ luta contra a s√∫cubo, resistindo √† sua influ√™ncia. Ela se retira, n√£o derrotada, mas talvez intrigada. Voc√™ escapa do Vale, mas a experi√™ncia o transformou para sempre. O desejo, agora, tem um novo significado.");
        } else if (choice.ending === "surrender") {
            endGame("Voc√™ aceita o chamado do desejo, permitindo que a s√∫cubo o envolva por completo. O Vale o consome, e voc√™ se torna um eco de paix√µes esquecidas. Seu destino est√° selado.");
        } else if (choice.ending === "resist") {
            endGame("Voc√™ tenta desafiar a s√∫cubo, sentindo sua vontade testada ao limite. Voc√™ consegue recuar, mas a marca do Vale permanece em sua alma, uma promessa tentadora para o futuro.");
        }

      } else if (choice.nextIndex !== undefined) {
        // Se houver texto de override, exibe antes de avan√ßar
        if (choice.textOverride) {
            videoDescription.innerText = choice.textOverride;
            videoDescription.style.display = 'block';
            setTimeout(() => { // D√° um tempo para o usu√°rio ler o override antes de avan√ßar
                playScene(choice.nextIndex);
            }, 2000); // Exibe por 2 segundos antes de mudar
        } else {
            playScene(choice.nextIndex);
        }
      }
    }

    function endGame(message) {
      hideAllSections();
      finalMessage.innerText = message;
      finalMessage.style.display = 'block';
      // Poderia adicionar um bot√£o de "Jogar Novamente" aqui
      const restartButton = document.createElement('button');
      restartButton.innerText = "Jogar Novamente";
      restartButton.onclick = () => location.reload(); // Recarrega a p√°gina para reiniciar
      finalMessage.appendChild(restartButton);
    }

    // Inicializa o jogo ao carregar a p√°gina, mostrando apenas o bot√£o de in√≠cio
    document.addEventListener('DOMContentLoaded', () => {
      hideAllSections();
      startButton.style.display = 'block';
      introductionText.style.display = 'block';
    });
  </script>

</body>
</html>
